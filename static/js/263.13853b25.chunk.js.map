{"version":3,"file":"static/js/263.13853b25.chunk.js","mappings":"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","sources":["cart/Cart.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  fetchSingleProducts,\r\n  removeItem,\r\n} from \"../FetchingApi/API/FetchSingleProduct\";\r\nimport { updateCart } from \"../FetchingApi/Slice/userSlice\";\r\nimport { Button, Empty, List, Image } from \"antd\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { MdDeleteForever } from \"react-icons/md\";\r\n\r\nconst Cart = () => {\r\n  //get product data\r\n  const product = useSelector((state) => state.singleProduct.multipleProduct);\r\n  //get user data\r\n  const user = useSelector((state) => state.user.user) || null;\r\n  //get product/cart quantity\r\n  const cartQty = useSelector((state) => state.user.cartQty);\r\n  const [quantity, setquantity] = React.useState([]);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n\r\n    cart.length > 0 &&\r\n      cart.map((el) => dispatch(fetchSingleProducts(el.productId)));\r\n    dispatch(updateCart(cart));\r\n    setquantity(cart);\r\n  }, [dispatch, setquantity]);\r\n\r\n  const handleDeleteCart = (id) => {\r\n    let temp = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n\r\n    const deleteItem = temp.filter((item) => {\r\n      return item.productId !== id;\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(deleteItem));\r\n    dispatch(removeItem(id));\r\n  };\r\n\r\n  const handleModifieCart = (id, action) => {\r\n    let temp = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n    let index = temp.findIndex((item) => item.productId === id);\r\n    if (index !== -1) {\r\n      if (action === \"increment\") {\r\n        temp[index] = { ...temp[index], quantity: temp[index].quantity + 1 };\r\n      } else if (action === \"decrement\" && temp[index].quantity > 0) {\r\n        temp[index] = { ...temp[index], quantity: temp[index].quantity - 1 };\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(temp));\r\n      dispatch(updateCart(temp));\r\n    }\r\n  };\r\n\r\n  //checkout button\r\n  const handleCheckout = () => {\r\n    let checkAuthentication = user.some((user) => {\r\n      return user.isAuthentication === true;\r\n    });\r\n    checkAuthentication ? navigate(\"/shipping\") : navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"91vh\" }}>\r\n      {product.length > 0 && quantity ? (\r\n        <div style={{ display: \"flex\" }} className=\"cartPage\">\r\n          {/* ---------- CART LIST ------------- */}\r\n          <div className=\"cartPage-list\">\r\n            <h2>{`Your Cart: ${quantity && quantity.length} Items`}</h2>\r\n            {\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                size=\"large\"\r\n                bordered\r\n                dataSource={product}\r\n                className=\"cartList\"\r\n                renderItem={(item) => (\r\n                  <div className=\"row gx-3 align-items-center\">\r\n                    <List.Item className=\"cartList-item\">\r\n                      <div className=\"col-2 col-md-1\">\r\n                        <Image\r\n                          src={item.image}\r\n                          height={70}\r\n                          preview={false}\r\n                          className=\"cartPage-cartlist-img\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"col-4 col-md-3 cartItem-hover\">\r\n                        <Link\r\n                          to={`/product/${item.id}`}\r\n                          style={{ textDecoration: \"none\", color: \"black\" }}\r\n                        >\r\n                          <h5 className=\"text-truncate\">{item.title}</h5>\r\n                        </Link>\r\n                      </div>\r\n\r\n                      <div className=\"col-2 col-md-2\">\r\n                        <h5>{`$ ${item.price}`}</h5>\r\n                      </div>\r\n\r\n                      <div className=\"col-3 col-md-2\">\r\n                        <Button\r\n                          className=\"bg-danger text-light\"\r\n                          onClick={() =>\r\n                            handleModifieCart(item.id, \"decrement\")\r\n                          }\r\n                        >\r\n                          -\r\n                        </Button>\r\n                        <span className=\"mx-3\">\r\n                          {cartQty.find((el) => el.productId === item.id)\r\n                            ?.quantity || 1}\r\n                        </span>\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() =>\r\n                            handleModifieCart(item.id, \"increment\")\r\n                          }\r\n                        >\r\n                          +\r\n                        </Button>\r\n                      </div>\r\n\r\n                      <span className=\"col-auto col-md-1\">\r\n                        <MdDeleteForever\r\n                          className=\"text-danger fs-4\"\r\n                          style={{ cursor: \"pointer\" }}\r\n                          onClick={() => handleDeleteCart(item.id)}\r\n                        />\r\n                      </span>\r\n                    </List.Item>\r\n                  </div>\r\n                )}\r\n              />\r\n            }\r\n          </div>\r\n          {/* -------- ORDER SUMMERY ---------- */}\r\n          <div className=\"cartPage-orderSummary\">\r\n            <div className=\"orderSummary-card\">\r\n              <h4>Order Summary</h4>\r\n              <hr />\r\n              <p className=\"d-flex justify-content-between\">\r\n                Units:\r\n                <span className=\"fw-bolder\">\r\n                  {cartQty.reduce((acc, item) => acc + item.quantity, 0)}\r\n                  (Units)\r\n                </span>\r\n              </p>\r\n              <p className=\"d-flex justify-content-between\">\r\n                Est.Total:\r\n                <span className=\"fw-bolder\">\r\n                  $\r\n                  {cartQty.reduce((acc, curr) => {\r\n                    // Find the matching item in cartQty\r\n                    const item = product.find(\r\n                      (item) => item.id === curr.productId\r\n                    );\r\n                    // Calculate the cost for the current product\r\n                    const cost = item ? item.price * curr.quantity : 0;\r\n\r\n                    // Add the cost to the accumulator\r\n                    return parseInt(acc + cost);\r\n                  }, 0)}\r\n                </span>\r\n              </p>\r\n              <hr />\r\n              <Button\r\n                className=\"fw-bolder w-100\"\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  handleCheckout();\r\n                }}\r\n              >\r\n                Check out\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        // ---- EMPTY CART -------\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            placeItems: \"center\",\r\n            height: \"100%\",\r\n          }}\r\n        >\r\n          <Empty\r\n            image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n            imageStyle={{ height: 60 }}\r\n            description={<span>No Cart</span>}\r\n          >\r\n            <Button type=\"primary\" onClick={() => navigate(\"/\")}>\r\n              Add Cart\r\n            </Button>\r\n          </Empty>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["Cart","product","useSelector","state","singleProduct","multipleProduct","user","cartQty","quantity","setquantity","React","dispatch","useDispatch","navigate","useNavigate","useEffect","cart","JSON","parse","localStorage","getItem","length","map","el","fetchSingleProducts","productId","updateCart","handleModifieCart","id","action","temp","index","findIndex","item","setItem","stringify","_jsx","style","height","children","_jsxs","display","className","concat","List","itemLayout","size","bordered","dataSource","renderItem","_cartQty$find","Item","Image","src","image","preview","Link","to","textDecoration","color","title","price","Button","onClick","find","type","MdDeleteForever","cursor","deleteItem","filter","removeItem","handleDeleteCart","reduce","acc","curr","cost","parseInt","handleCheckout","checkAuthentication","some","isAuthentication","placeItems","Empty","imageStyle","description"],"sourceRoot":""}